:root {
    --bg: #eef7fc;
    --panel: #ffffff;
    --panel-2: #e8f4fc;
    --text: #0f172a;
    --muted: #5b6b7f;
    --accent: #4fc3f7;
    --accent-2: #0288d1;
    --accent-3: #7fd8ff;
    --border: #dbe7f3;
    --shadow: 0 12px 30px rgba(2,136,209,.12);
    --radius: 18px;
    --sidebar-w: 300px;
    --sidebar-w-collapsed: 76px;
}
[data-theme="dark"] {
    --bg: #0b1220;
    --panel: #0f1a2b;
    --panel-2: #0b1626;
    --text: #e8eef6;
    --muted: #9fb3c8;
    --accent: #4fc3f7;
    --accent-2: #79c9ff;
    --accent-3: #38bdf8;
    --border: #1f2b3d;
    --shadow: 0 14px 36px rgba(0,0,0,.45);
}
@media (prefers-color-scheme: dark) {
    :root { color-scheme: dark; }
    body:not([data-force-light]) { background: var(--bg); }
}

* { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: radial-gradient(1200px 800px at 10% -10%, color-mix(in oklab, var(--accent) 18%, transparent), transparent),
                  radial-gradient(900px 600px at 110% 20%, color-mix(in oklab, var(--accent-2) 18%, transparent), transparent),
                  var(--bg);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", Helvetica, Arial, sans-serif;
      color: var(--text);
    }

  
.app { display: grid; grid-template-columns: var(--sidebar-w) 1fr; min-height: 100vh; transition: grid-template-columns .25s ease; }
.app.collapsed { grid-template-columns: var(--sidebar-w-collapsed) 1fr; }

    
.sidebar {
    position: sticky; top: 0; height: 100vh;
    background: linear-gradient(180deg, color-mix(in oklab, var(--accent) 70%, var(--panel)), color-mix(in oklab, var(--accent-2) 70%, var(--panel-2)));
    border-right: 1px solid var(--border);
    box-shadow: var(--shadow);
    display: flex; flex-direction: column; gap: 12px; padding: 16px 12px;
}
.brand { display:flex; align-items:center; gap:12px; padding:10px; border-radius: 16px; }
.logo { width:44px; height:44px; border-radius: 14px; background: radial-gradient(circle at 30% 20%, var(--accent-3), var(--accent)); display:grid; place-items:center; font-weight: 900; color:#00243a; letter-spacing:.5px; }
.title { font-weight: 800; letter-spacing: .3px; font-size: 1.06rem; color: #06111a; text-shadow: 0 1px 0 rgba(255,255,255,.25); }

.collapse-row { display:flex; align-items:center; justify-content: space-between; gap:8px; }
.collapse-btn { appearance:none; border:1px solid color-mix(in oklab, var(--accent-2) 30%, var(--border)); background: color-mix(in oklab, var(--panel) 70%, var(--panel-2)); color: var(--muted); padding: 8px 10px; border-radius: 12px; cursor: pointer; transition:.2s ease; font-weight:700; }
.collapse-btn:hover { color: var(--text); border-color: var(--accent-2); box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent-2) 18%, transparent); }

    nav.menu { display: grid; gap: 6px; margin-top: 6px; }
    .tab-btn { display:flex; align-items:center; gap:12px; padding: 12px; border-radius: 12px; border:1px solid transparent; cursor:pointer; color:#0c2431; background: color-mix(in oklab, var(--panel) 60%, var(--panel-2)); transition:.2s ease; text-align:left; width:100%; font: inherit; letter-spacing: .2px; }
    .tab-btn:hover { background: color-mix(in oklab, var(--accent) 18%, transparent); }
    .tab-btn[aria-selected="true"] { background: color-mix(in oklab, var(--accent) 25%, transparent); color:#001a28; border-color: color-mix(in oklab, var(--accent-2) 40%, transparent); }
    .icon { width: 22px; display:grid; place-items:center; opacity:.95; }
    .footer-note { margin-top:auto; font-size: 12px; color:#073045; opacity:.85; }

    
    .main { display:grid; grid-template-rows: auto 1fr; min-height:100vh; }
    header.topbar { position: sticky; top:0; z-index: 5; display:flex; gap:12px; align-items:center; justify-content: space-between; padding: 14px 18px; background: color-mix(in oklab, var(--panel) 80%, transparent); border-bottom:1px solid var(--border); backdrop-filter: blur(10px); }
    .left-wrap { display:flex; gap:12px; align-items:center; }

    .search { width:min(520px, 60vw); background: var(--panel); border:1px solid var(--border); color:var(--text); border-radius: 12px; padding: 10px 12px; outline:none; transition:.2s ease; }
    .search:focus { border-color: var(--accent-2); box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent-2) 22%, transparent); }

    .badge { display:inline-flex; align-items:center; gap:8px; font-size:12px; padding:6px 12px; border:1px solid var(--border); border-radius:999px; background: color-mix(in oklab, var(--panel-2) 80%, transparent); }

    .toolbar { display:flex; align-items:center; gap:8px; }
    .btn { appearance:none; border:1px solid var(--border); background: var(--panel); color: var(--text); padding: 8px 10px; border-radius: 12px; cursor:pointer; transition:.2s ease; font-weight:600; }
    .btn:hover { border-color: var(--accent-2); box-shadow: 0 0 0 4px color-mix(in oklab, var(--accent-2) 18%, transparent); }

    .content { padding: 22px; max-width: 1100px; width: 100%; }

    .card { background: var(--panel); border:1px solid var(--border); border-radius: var(--radius); padding: 20px; box-shadow: var(--shadow); }
    .grid { display:grid; gap: 16px; }
    .grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    @media (max-width: 960px) { .grid.cols-2 { grid-template-columns: 1fr; } }

    .muted { color: var(--muted); }
    .table { width: 100%; border-collapse: collapse; overflow: hidden; border-radius: 12px; font-size: 0.95rem; }
    .table th, .table td { padding: 10px 12px; border-bottom: 1px solid var(--border); text-align: left; }
    .table th { background: color-mix(in oklab, var(--panel-2) 60%, transparent); font-weight: 700; }

    .timeline { list-style: none; margin: 0; padding: 0; }
    .timeline li { display: grid; grid-template-columns: 120px 1fr; gap: 16px; padding: 12px 0; border-bottom: 1px dashed var(--border); }
    .timeline time { font-weight: 700; color: var(--accent-2); }

    .legal h3 { margin-top: 1.2em; }
    .legal p { line-height: 1.75; }

   
    .app.collapsed .title, .app.collapsed .tab-text, .app.collapsed .collapse-label, .app.collapsed .footer-note { display: none; }
    .app.collapsed .sidebar { padding: 16px 8px; }
    .app.collapsed .tab-btn { justify-content: center; }

  
    .tab-panel { display:none; opacity:0; transform: translateY(8px); }
    .tab-panel.active { display:block; animation: fade .22s ease forwards; }
    @keyframes fade { to { opacity:1; transform: translateY(0); } }

    
    .kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size: 12px; padding: 2px 6px; border:1px solid var(--border); border-radius: 6px; background: var(--panel-2); }

   
    :focus-visible { outline: 3px solid color-mix(in oklab, var(--accent-2) 35%, transparent); outline-offset: 2px; border-radius: 10px; }

   
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
    }

    
    .errbar { display:none; position: fixed; left: 0; right: 0; bottom: 0; background: #ffeded; color: #8a0417; border-top: 1px solid #f3b1b7; padding: 8px 12px; font-size: 13px; z-index: 9999; }

    
    @media (max-width: 768px) {
      .app {
        grid-template-columns: 1fr; 
      }
      .sidebar {
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        bottom: 0;
        width: var(--sidebar-w);
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }
      .app.show-sidebar .sidebar {
        transform: translateX(0);
      }
      
      header.topbar {
        justify-content: space-between;
      }
      .search {
        width: 100%;
        max-width: none;
      }
      .content {
        padding: 16px;
      }
    
      .hamburger {
        appearance: none;
        background: none;
        border: none;
        font-size: 24px;
        padding: 8px;
        cursor: pointer;
        color: var(--text);
      }
      .hamburger:focus-visible {
        outline: 3px solid var(--accent-2);
        outline-offset: 2px;
      }
    }